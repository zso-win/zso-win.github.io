var E=Object.defineProperty;var I=(e,s,o)=>s in e?E(e,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[s]=o;var g=(e,s,o)=>(I(e,typeof s!="symbol"?s+"":s,o),o);import{l as j,d as y,r as h,i as L,y as R,I as S,W as P,o as k,p as x,t as _,X as C,h as f,Y as M,Z as q,_ as z,$ as N,a0 as T}from"./index-591a11d4.js";const A=j&&"loading"in document.createElement("img"),$=(e={})=>{var s;const{root:o=null}=e;return{hash:`${e.rootMargin||"0px 0px 0px 0px"}-${Array.isArray(e.threshold)?e.threshold.join(","):(s=e.threshold)!==null&&s!==void 0?s:"0"}`,options:Object.assign(Object.assign({},e),{root:(typeof o=="string"?document.querySelector(o):o)||document.documentElement})}},m=new WeakMap,b=new WeakMap,w=new WeakMap,D=(e,s,o)=>{if(!e)return()=>{};const n=$(s),{root:i}=n.options;let l;const u=m.get(i);u?l=u:(l=new Map,m.set(i,l));let c,a;l.has(n.hash)?(a=l.get(n.hash),a[1].has(e)||(c=a[0],a[1].add(e),c.observe(e))):(c=new IntersectionObserver(d=>{d.forEach(v=>{if(v.isIntersecting){const p=b.get(v.target),O=w.get(v.target);p&&p(),O&&(O.value=!0)}})},n.options),c.observe(e),a=[c,new Set([e])],l.set(n.hash,a));let t=!1;const r=()=>{t||(b.delete(e),w.delete(e),t=!0,a[1].has(e)&&(a[0].unobserve(e),a[1].delete(e)),a[1].size<=0&&l.delete(n.hash),l.size||m.delete(i))};return b.set(e,r),w.set(e,o),r},F=Object.assign({alt:String,height:[String,Number],imgProps:Object,previewedImgProps:Object,lazy:Boolean,intersectionObserverOptions:Object,objectFit:{type:String,default:"fill"},previewSrc:String,fallbackSrc:String,width:[String,Number],src:String,previewDisabled:Boolean,loadDescription:String,onError:Function,onLoad:Function},q),G=y({name:"Image",props:F,inheritAttrs:!1,setup(e){const s=h(null),o=h(!1),n=h(null),i=L(z,null),{mergedClsPrefixRef:l}=i||R(e),u={click:()=>{if(e.previewDisabled||o.value)return;const t=e.previewSrc||e.src;if(i){i.setPreviewSrc(t),i.setThumbnailEl(s.value),i.toggleShow();return}const{value:r}=n;r&&(r.setPreviewSrc(t),r.setThumbnailEl(s.value),r.toggleShow())}},c=h(!e.lazy);S(()=>{var t;(t=s.value)===null||t===void 0||t.setAttribute("data-group-id",(i==null?void 0:i.groupId)||"")}),S(()=>{if(e.lazy&&e.intersectionObserverOptions){let t;const r=P(()=>{t==null||t(),t=void 0,t=D(s.value,e.intersectionObserverOptions,c)});k(()=>{r(),t==null||t()})}}),P(()=>{var t;e.src,(t=e.imgProps)===null||t===void 0||t.src,o.value=!1});const a=h(!1);return x(C,{previewedImgPropsRef:_(e,"previewedImgProps")}),Object.assign({mergedClsPrefix:l,groupId:i==null?void 0:i.groupId,previewInstRef:n,imageRef:s,showError:o,shouldStartLoading:c,loaded:a,mergedOnClick:t=>{var r,d;u.click(),(d=(r=e.imgProps)===null||r===void 0?void 0:r.onClick)===null||d===void 0||d.call(r,t)},mergedOnError:t=>{if(!c.value)return;o.value=!0;const{onError:r,imgProps:{onError:d}={}}=e;r==null||r(t),d==null||d(t)},mergedOnLoad:t=>{const{onLoad:r,imgProps:{onLoad:d}={}}=e;r==null||r(t),d==null||d(t),a.value=!0}},u)},render(){var e,s;const{mergedClsPrefix:o,imgProps:n={},loaded:i,$attrs:l,lazy:u}=this,c=(s=(e=this.$slots).placeholder)===null||s===void 0?void 0:s.call(e),a=this.src||n.src,t=f("img",Object.assign(Object.assign({},n),{ref:"imageRef",width:this.width||n.width,height:this.height||n.height,src:this.showError?this.fallbackSrc:u&&this.intersectionObserverOptions?this.shouldStartLoading?a:void 0:a,alt:this.alt||n.alt,"aria-label":this.alt||n.alt,onClick:this.mergedOnClick,onError:this.mergedOnError,onLoad:this.mergedOnLoad,loading:A&&u&&!this.intersectionObserverOptions?"lazy":"eager",style:[n.style||"",c&&!i?{height:"0",width:"0",visibility:"hidden"}:"",{objectFit:this.objectFit}],"data-error":this.showError,"data-preview-src":this.previewSrc||this.src}));return f("div",Object.assign({},l,{role:"none",class:[l.class,`${o}-image`,(this.previewDisabled||this.showError)&&`${o}-image--preview-disabled`]}),this.groupId?t:f(M,{theme:this.theme,themeOverrides:this.themeOverrides,clsPrefix:o,ref:"previewInstRef",showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip},{default:()=>t}),!i&&c)}});class H{constructor(){g(this,"question1",!0);g(this,"question2",!1)}}const K=N("questions",{state:()=>({questions:T("questions",new H,localStorage,{mergeDefaults:!0})}),actions:{update(e){this.questions={...this.questions,...e}}}});export{G as N,K as u};
