var E=Object.defineProperty;var I=(e,s,r)=>s in e?E(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r;var u=(e,s,r)=>(I(e,typeof s!="symbol"?s+"":s,r),r);import{B as j,f as y,r as v,C as L,u as R,o as S,D as P,E as k,G as x,H as C,I as z,j as f,J as M,K as Q,L as _,M as N,O as T}from"./index-e4e7b94a.js";const A=j&&"loading"in document.createElement("img"),q=(e={})=>{var s;const{root:r=null}=e;return{hash:`${e.rootMargin||"0px 0px 0px 0px"}-${Array.isArray(e.threshold)?e.threshold.join(","):(s=e.threshold)!==null&&s!==void 0?s:"0"}`,options:Object.assign(Object.assign({},e),{root:(typeof r=="string"?document.querySelector(r):r)||document.documentElement})}},m=new WeakMap,b=new WeakMap,w=new WeakMap,D=(e,s,r)=>{if(!e)return()=>{};const n=q(s),{root:i}=n.options;let l;const h=m.get(i);h?l=h:(l=new Map,m.set(i,l));let c,a;l.has(n.hash)?(a=l.get(n.hash),a[1].has(e)||(c=a[0],a[1].add(e),c.observe(e))):(c=new IntersectionObserver(d=>{d.forEach(g=>{if(g.isIntersecting){const p=b.get(g.target),O=w.get(g.target);p&&p(),O&&(O.value=!0)}})},n.options),c.observe(e),a=[c,new Set([e])],l.set(n.hash,a));let t=!1;const o=()=>{t||(b.delete(e),w.delete(e),t=!0,a[1].has(e)&&(a[0].unobserve(e),a[1].delete(e)),a[1].size<=0&&l.delete(n.hash),l.size||m.delete(i))};return b.set(e,o),w.set(e,r),o},H=Object.assign({alt:String,height:[String,Number],imgProps:Object,previewedImgProps:Object,lazy:Boolean,intersectionObserverOptions:Object,objectFit:{type:String,default:"fill"},previewSrc:String,fallbackSrc:String,width:[String,Number],src:String,previewDisabled:Boolean,loadDescription:String,onError:Function,onLoad:Function},Q),W=y({name:"Image",props:H,inheritAttrs:!1,setup(e){const s=v(null),r=v(!1),n=v(null),i=L(_,null),{mergedClsPrefixRef:l}=i||R(e),h={click:()=>{if(e.previewDisabled||r.value)return;const t=e.previewSrc||e.src;if(i){i.setPreviewSrc(t),i.setThumbnailEl(s.value),i.toggleShow();return}const{value:o}=n;o&&(o.setPreviewSrc(t),o.setThumbnailEl(s.value),o.toggleShow())}},c=v(!e.lazy);S(()=>{var t;(t=s.value)===null||t===void 0||t.setAttribute("data-group-id",(i==null?void 0:i.groupId)||"")}),S(()=>{if(e.lazy&&e.intersectionObserverOptions){let t;const o=P(()=>{t==null||t(),t=void 0,t=D(s.value,e.intersectionObserverOptions,c)});k(()=>{o(),t==null||t()})}}),P(()=>{var t;e.src,(t=e.imgProps)===null||t===void 0||t.src,r.value=!1});const a=v(!1);return x(z,{previewedImgPropsRef:C(e,"previewedImgProps")}),Object.assign({mergedClsPrefix:l,groupId:i==null?void 0:i.groupId,previewInstRef:n,imageRef:s,showError:r,shouldStartLoading:c,loaded:a,mergedOnClick:t=>{var o,d;h.click(),(d=(o=e.imgProps)===null||o===void 0?void 0:o.onClick)===null||d===void 0||d.call(o,t)},mergedOnError:t=>{if(!c.value)return;r.value=!0;const{onError:o,imgProps:{onError:d}={}}=e;o==null||o(t),d==null||d(t)},mergedOnLoad:t=>{const{onLoad:o,imgProps:{onLoad:d}={}}=e;o==null||o(t),d==null||d(t),a.value=!0}},h)},render(){var e,s;const{mergedClsPrefix:r,imgProps:n={},loaded:i,$attrs:l,lazy:h}=this,c=(s=(e=this.$slots).placeholder)===null||s===void 0?void 0:s.call(e),a=this.src||n.src,t=f("img",Object.assign(Object.assign({},n),{ref:"imageRef",width:this.width||n.width,height:this.height||n.height,src:this.showError?this.fallbackSrc:h&&this.intersectionObserverOptions?this.shouldStartLoading?a:void 0:a,alt:this.alt||n.alt,"aria-label":this.alt||n.alt,onClick:this.mergedOnClick,onError:this.mergedOnError,onLoad:this.mergedOnLoad,loading:A&&h&&!this.intersectionObserverOptions?"lazy":"eager",style:[n.style||"",c&&!i?{height:"0",width:"0",visibility:"hidden"}:"",{objectFit:this.objectFit}],"data-error":this.showError,"data-preview-src":this.previewSrc||this.src}));return f("div",Object.assign({},l,{role:"none",class:[l.class,`${r}-image`,(this.previewDisabled||this.showError)&&`${r}-image--preview-disabled`]}),this.groupId?t:f(M,{theme:this.theme,themeOverrides:this.themeOverrides,clsPrefix:r,ref:"previewInstRef",showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip},{default:()=>t}),!i&&c)}});class ${constructor(){u(this,"polQuestion1",!1);u(this,"polQuestion2",!1);u(this,"sanQuestion1",!1);u(this,"sanQuestion2",!1);u(this,"fwQuestion1",!1);u(this,"fwQuestion2",!1);u(this,"zsQuestion1",!1);u(this,"zsQuestion2",!1)}}const G=N("questions",{state:()=>({questions:T("questions",new $,localStorage,{mergeDefaults:!0})}),actions:{update(e){this.questions={...this.questions,...e}}}});export{W as N,G as u};
